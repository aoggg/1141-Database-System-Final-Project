{% extends "base.html" %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <nav class="mb-8">
        <a href="{{ url_for('profile') }}" class="inline-flex items-center text-sm text-gray-500 hover:text-[#FF6B00] transition">
            <i data-feather="arrow-left" class="w-4 h-4 mr-1"></i> 返回個人檔案
        </a>
    </nav>

    <div class="bg-white rounded-3xl shadow-sm border border-gray-100 overflow-hidden">
        <div class="p-8">
            <div class="flex items-center gap-4 mb-8">
                <div class="w-12 h-12 bg-[#FFF0E6] rounded-2xl flex items-center justify-center shrink-0">
                    <i data-feather="edit-3" class="text-[#FF6B00] w-6 h-6"></i>
                </div>
                <div>
                    <h2 class="text-2xl font-bold text-gray-900">撰寫評價</h2>
                    <p class="text-sm text-gray-500 mt-1">
                        分享你的索取心得，幫助建立更好的共享社群
                    </p>
                </div>
            </div>

            <div class="bg-gray-50 rounded-2xl p-4 mb-8 border border-gray-100 flex items-start gap-3">
                <i data-feather="info" class="w-4 h-4 text-gray-400 mt-1"></i>
                <div class="text-sm">
                    <span class="text-gray-400 block mb-1 font-bold uppercase tracking-wider text-[10px]">你正在評價貼文</span>
                    <span class="text-gray-700 font-medium">{{ post['description'] }}</span>
                </div>
            </div>

            <form action="{{ url_for('add_comment', post_id=post_id) }}" method="POST" class="space-y-8">
                <div>
                    <label for="rating" class="block text-sm font-bold text-gray-700 mb-3">給予分數 (1-5 星)</label>
                    <div class="relative">
                        <select name="rating" id="rating" required 
                                class="appearance-none block w-full px-4 py-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#FF6B00] focus:border-transparent outline-none transition cursor-pointer">
                            <option value="5">⭐⭐⭐⭐⭐ (5分 - 非常滿意)</option>
                            <option value="4">⭐⭐⭐⭐ (4分 - 很有幫助)</option>
                            <option value="3">⭐⭐⭐ (3分 - 內容符合)</option>
                            <option value="2">⭐⭐ (2分 - 尚可接受)</option>
                            <option value="1">⭐ (1分 - 不太推薦)</option>
                        </select>
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-400">
                            <i data-feather="chevron-down" class="w-4 h-4"></i>
                        </div>
                    </div>
                </div>

                <div>
                    <label for="comment_str" class="block text-sm font-bold text-gray-700 mb-3">你的感受</label>
                    <textarea name="comment_str" id="comment_str" rows="5" required 
                              placeholder="寫下你的感謝，或是物品的保存狀況..."
                              class="block w-full px-4 py-3 bg-white border border-gray-200 rounded-2xl focus:ring-2 focus:ring-[#FF6B00] focus:border-transparent outline-none transition placeholder:text-gray-300"></textarea>
                </div>

                <div class="flex items-center gap-4 pt-4">
                    <button type="submit" 
                            class="flex-1 bg-black text-white py-3.5 rounded-2xl font-bold text-sm hover:bg-[#FF6B00] shadow-lg shadow-gray-200 hover:shadow-[#FF6B00]/20 transform active:scale-95 transition-all duration-200">
                        送出評價
                    </button>
                    <a href="{{ url_for('profile') }}" 
                       class="px-6 py-3.5 text-sm font-bold text-gray-400 hover:text-gray-600 transition">
                        取消
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}